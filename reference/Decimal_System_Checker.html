<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>A tool to test the integrity of a decimal system in a dataframe — Decimal_System_Checker • NutritionTools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="A tool to test the integrity of a decimal system in a dataframe — Decimal_System_Checker"><meta name="description" content="This function reads in a dataframe, as well as the names of 2-4
  columns which comprise the decimal system within that dataframe. It then
  checks the integrity of each series of decimal identities in each row
  against the rest of the decimal identities within that row, picking up any
  inconsistencies. Any inconsistencies are reported, eith in console messages
  or in a error report dataframe."><meta property="og:description" content="This function reads in a dataframe, as well as the names of 2-4
  columns which comprise the decimal system within that dataframe. It then
  checks the integrity of each series of decimal identities in each row
  against the rest of the decimal identities within that row, picking up any
  inconsistencies. Any inconsistencies are reported, eith in console messages
  or in a error report dataframe."><meta property="og:image" content="https://tomcodd.github.io/NutritionTools/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">NutritionTools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Fuzzy-Matcher-Guide.html">Fuzzy-Matcher-Guide</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/TomCodd/NutritionTools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>A tool to test the integrity of a decimal system in a dataframe</h1>
      <small class="dont-index">Source: <a href="https://github.com/TomCodd/NutritionTools/blob/master/R/DecimalSystemCheck.R" class="external-link"><code>R/DecimalSystemCheck.R</code></a></small>
      <div class="d-none name"><code>Decimal_System_Checker.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function reads in a dataframe, as well as the names of 2-4
  columns which comprise the decimal system within that dataframe. It then
  checks the integrity of each series of decimal identities in each row
  against the rest of the decimal identities within that row, picking up any
  inconsistencies. Any inconsistencies are reported, eith in console messages
  or in a error report dataframe.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Decimal_System_Checker</span><span class="op">(</span><span class="va">df</span>, <span class="va">first</span>, <span class="va">second</span>, <span class="va">third</span>, <span class="va">fourth</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>Required - The data frame containing the decimal system.</p></dd>


<dt id="arg-first">first<a class="anchor" aria-label="anchor" href="#arg-first"></a></dt>
<dd><p>Required - The first column of the decimal system - the most
basic item ID; e.g. 01 .</p></dd>


<dt id="arg-second">second<a class="anchor" aria-label="anchor" href="#arg-second"></a></dt>
<dd><p>Required - The second column of the decimal system - the first
subdivision from the base ID; e.g. 01.005 .</p></dd>


<dt id="arg-third">third<a class="anchor" aria-label="anchor" href="#arg-third"></a></dt>
<dd><p>Optional - The third column of the decimal system - the second
subdivision from the base ID and the first from the second ID; e.g.
01.005.03 .</p></dd>


<dt id="arg-fourth">fourth<a class="anchor" aria-label="anchor" href="#arg-fourth"></a></dt>
<dd><p>Optional - The fourth column of the decimal system - the third
subdivision from the base ID, second subdivision from the second ID, and
first subdivision from the third ID; e.g. 01.005.03.01 .</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An R dataframe detailing the errors found for each item in the
  decimal system.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#Two examples will be covered - one that results in the output error table,</span></span></span>
<span class="r-in"><span><span class="co">#another that produces the output messages only (not recommended for large</span></span></span>
<span class="r-in"><span><span class="co">#dataframes).</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#First, we must create a test dataframe:</span></span></span>
<span class="r-in"><span><span class="va">test_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Merlot"</span>, <span class="st">"pinot grigio"</span>, <span class="st">"Chateauneuf-du-Pape"</span>,</span></span>
<span class="r-in"><span><span class="st">"Tokaji"</span>, <span class="st">"Champagne"</span>, <span class="st">"Sauvignon Blanc"</span>, <span class="st">"Chardonnay"</span>, <span class="st">"Malbec"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01"</span>,</span></span>
<span class="r-in"><span><span class="st">"01"</span>, <span class="st">"01"</span>, <span class="st">"01"</span>, <span class="st">"02"</span>, <span class="st">"02"</span>, <span class="st">"02"</span>, <span class="st">"02"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"02.01"</span>, <span class="st">"01.01"</span>, <span class="st">"01.02"</span>,</span></span>
<span class="r-in"><span><span class="st">"01.02"</span>, <span class="st">"02.01"</span>, <span class="st">"02.01"</span>, <span class="st">"02.02"</span>, <span class="st">"02.02"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"02.01.0111"</span>, <span class="st">"01.01.0131"</span>,</span></span>
<span class="r-in"><span><span class="st">"01.02.0001"</span>, <span class="st">"01.02.2031"</span>, <span class="st">"02.01.1001"</span>, <span class="st">"02.01.1001"</span>, <span class="st">"02.02.3443"</span>,</span></span>
<span class="r-in"><span><span class="st">"02.03.4341"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"02.01.0111.01"</span>, <span class="st">"01.01.0131.04"</span>, <span class="st">"01.02.0001.01"</span>,</span></span>
<span class="r-in"><span><span class="st">"01.02.2031.03"</span>, <span class="st">"02.01.1001.06"</span>, <span class="st">"02.01.1001.06"</span>, <span class="st">"02.01.3443.02"</span>,</span></span>
<span class="r-in"><span><span class="st">"02.02.4341.03"</span><span class="op">)</span> <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">#Then we should rename the columns of the dataframe:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">test_df</span><span class="op">)</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Wine names"</span>,</span></span>
<span class="r-in"><span>      <span class="st">"ID1"</span>,</span></span>
<span class="r-in"><span>      <span class="st">"ID2"</span>,</span></span>
<span class="r-in"><span>      <span class="st">"ID3"</span>,</span></span>
<span class="r-in"><span>      <span class="st">"ID4"</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co">#This first line runs the dataframe, and has an output variable listed. This</span></span></span>
<span class="r-in"><span> <span class="co">#means that as well as putting a message in the console when an error is</span></span></span>
<span class="r-in"><span> <span class="co">#found, all the error reports will be saved to a dataframe too.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="va">output_test</span> <span class="op">&lt;-</span> <span class="fu">Decimal_System_Checker</span><span class="op">(</span><span class="va">test_df</span>, first <span class="op">=</span> <span class="st">"ID1"</span>, second <span class="op">=</span></span></span>
<span class="r-in"><span> <span class="st">"ID2"</span>, third <span class="op">=</span> <span class="st">"ID3"</span>, fourth <span class="op">=</span> <span class="st">"ID4"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tertiary decimal level used</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Quaternary decimal level used</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> duplicate codes found in fourth level: 02.01.1001.06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "02.01.0111.01"</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The first part of the secondary code (02) does not match the primary code (01); 02.01 vs. 01.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "02.01.0111.01"</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The first part of the tertiary code (02) does not match the primary code (01); 02.01.0111 vs. 01.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "02.01.0111.01"</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The first part of the quaternary code (02) does not match the primary code (01); 02.01.0111.01 vs. 01.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "02.01.3443.02"</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The second part of the quaternary code (01) does not match the secondary code (02); 02.01.3443.02 vs. 02.02.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "02.02.4341.03"</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The second part of the tertiary code (03) does not match the secondary code (02); 02.03.4341 vs. 02.02.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co">#However, if we only want to get the readouts and not have an error</span></span></span>
<span class="r-in"><span> <span class="co">#dataframe to refer back to, then the code can be run like so:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="fu">Decimal_System_Checker</span><span class="op">(</span><span class="va">test_df</span>, first <span class="op">=</span> <span class="st">"ID1"</span>, second <span class="op">=</span> <span class="st">"ID2"</span>, third <span class="op">=</span></span></span>
<span class="r-in"><span> <span class="st">"ID3"</span>, fourth <span class="op">=</span> <span class="st">"ID4"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tertiary decimal level used</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Quaternary decimal level used</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> duplicate codes found in fourth level: 02.01.1001.06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "02.01.0111.01"</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The first part of the secondary code (02) does not match the primary code (01); 02.01 vs. 01.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "02.01.0111.01"</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The first part of the tertiary code (02) does not match the primary code (01); 02.01.0111 vs. 01.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "02.01.0111.01"</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The first part of the quaternary code (02) does not match the primary code (01); 02.01.0111.01 vs. 01.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "02.01.3443.02"</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The second part of the quaternary code (01) does not match the secondary code (02); 02.01.3443.02 vs. 02.02.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "02.02.4341.03"</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The second part of the tertiary code (03) does not match the secondary code (02); 02.03.4341 vs. 02.02.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   primary code secondary code tertiary code quaternary code</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           01          02.01    02.01.0111   02.01.0111.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5           02          02.01    02.01.1001   02.01.1001.06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6           02          02.01    02.01.1001   02.01.1001.06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7           02          02.02    02.02.3443   02.01.3443.02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8           02          02.02    02.03.4341   02.02.4341.03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                                                                                                                                                                                                                                        error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 The first part of the secondary code (02) does not match the primary code (01); 02.01 vs. 01. - The first part of the tertiary code (02) does not match the primary code (01); 02.01.0111 vs. 01. - The first part of the quaternary code (02) does not match the primary code (01); 02.01.0111.01 vs. 01.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                                                                                                                                                                                                                                                       duplicate codes found in fourth level: 02.01.1001.06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                                                                                                                                                                                                                                                       duplicate codes found in fourth level: 02.01.1001.06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                                                                                                                                                                                               The second part of the quaternary code (01) does not match the secondary code (02); 02.01.3443.02 vs. 02.02.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                                                                                                                                                                                                    The second part of the tertiary code (03) does not match the secondary code (02); 02.03.4341 vs. 02.02.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co">#This will do the same thing as the previous run, producing error printouts,</span></span></span>
<span class="r-in"><span> <span class="co">#but it will not create an error report dataframe.</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Thomas Codd, Lucia Segovia de la Revilla.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

