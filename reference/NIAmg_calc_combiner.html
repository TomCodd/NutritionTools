<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Niacin Calculator and Combiner — NIAmg_calc_combiner • NutritionTools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Niacin Calculator and Combiner — NIAmg_calc_combiner"><meta name="description" content="This function calculates potential values for Niacin, and then
  combines the most appropriate ones for each item into a new value. Inputs must
  cover at least two of the following combinations: NIAmg_column,
  NIAEQmg_column + NIATRPmg_column, NIAEQmg_column + TRPmg_column. This is
  because the function can then find Niacin values in multiple ways, and
  select the most appropriate.
The priority for use is 1st:  Niacin, 2nd: Total
  Niacin Equivalents - (Tryptophan/60), 3rd: Total Niacin
  Equivalents - Niacin Equivalents from Tryptophan."><meta property="og:description" content="This function calculates potential values for Niacin, and then
  combines the most appropriate ones for each item into a new value. Inputs must
  cover at least two of the following combinations: NIAmg_column,
  NIAEQmg_column + NIATRPmg_column, NIAEQmg_column + TRPmg_column. This is
  because the function can then find Niacin values in multiple ways, and
  select the most appropriate.
The priority for use is 1st:  Niacin, 2nd: Total
  Niacin Equivalents - (Tryptophan/60), 3rd: Total Niacin
  Equivalents - Niacin Equivalents from Tryptophan."><meta property="og:image" content="https://tomcodd.github.io/NutritionTools/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">NutritionTools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Fuzzy-Matcher-Guide.html">Fuzzy-Matcher-Guide</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/TomCodd/NutritionTools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Niacin Calculator and Combiner</h1>
      <small class="dont-index">Source: <a href="https://github.com/TomCodd/NutritionTools/blob/master/R/NIAmg_calc_combiner.R" class="external-link"><code>R/NIAmg_calc_combiner.R</code></a></small>
      <div class="d-none name"><code>NIAmg_calc_combiner.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function calculates potential values for Niacin, and then
  combines the most appropriate ones for each item into a new value. Inputs must
  cover at least two of the following combinations: NIAmg_column,
  NIAEQmg_column + NIATRPmg_column, NIAEQmg_column + TRPmg_column. This is
  because the function can then find Niacin values in multiple ways, and
  select the most appropriate.</p>
<p>The priority for use is 1st:  <code>Niacin</code>, 2nd: <code>Total
  Niacin Equivalents</code> - <code>(Tryptophan/60)</code>, 3rd: <code>Total Niacin
  Equivalents</code> - <code>Niacin Equivalents from Tryptophan</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">NIAmg_calc_combiner</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  NIAEQmg_column <span class="op">=</span> <span class="st">"NIAEQmg"</span>,</span>
<span>  NIAmg_column <span class="op">=</span> <span class="st">"NIAmg"</span>,</span>
<span>  TRPmg_column <span class="op">=</span> <span class="st">"TRPmg"</span>,</span>
<span>  NIATRPmg_column <span class="op">=</span> <span class="st">"NIATRPmg"</span>,</span>
<span>  comment <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  comment_col <span class="op">=</span> <span class="st">"comments"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>Required - the data.frame the data is currently stored in.</p></dd>


<dt id="arg-niaeqmg-column">NIAEQmg_column<a class="anchor" aria-label="anchor" href="#arg-niaeqmg-column"></a></dt>
<dd><p>Required - default: <code>'NIAEQmg'</code> - The name of the
column containing Niacin equivalents, total (preformed Niacin as well as
Niacin equivalents from Tryptophan) in mg per 100g of Edible Portion
(EP). The only required input as its impossible to get 2 or more ways of
calculating <code>NIAmg_combined</code> without it, which is required for
the function to work.</p></dd>


<dt id="arg-niamg-column">NIAmg_column<a class="anchor" aria-label="anchor" href="#arg-niamg-column"></a></dt>
<dd><p>Optional - default: <code>'NIAmg'</code> - The name of the
column containing Niacin (preformed) in mg per 100g of Edible Portion (EP).
If unavailable, set input to <code>NA</code>.</p></dd>


<dt id="arg-trpmg-column">TRPmg_column<a class="anchor" aria-label="anchor" href="#arg-trpmg-column"></a></dt>
<dd><p>Optional - default: <code>'TRPmg'</code> - Tryptophan, in mg
per 100g of Edible Portion (EP). If unavailable, set input to <code>NA</code>.</p></dd>


<dt id="arg-niatrpmg-column">NIATRPmg_column<a class="anchor" aria-label="anchor" href="#arg-niatrpmg-column"></a></dt>
<dd><p>Optional - default: <code>'NIATRPmg'</code> - The name of the
column containing Niacin equivalents from Tryptophan, in mg per 100g of
Edible Portion (EP). If unavailable, set input to <code>NA</code>.</p></dd>


<dt id="arg-comment">comment<a class="anchor" aria-label="anchor" href="#arg-comment"></a></dt>
<dd><p>Required - default: <code>TRUE</code> - <code>TRUE</code> or <code>FALSE</code>.
If <code>comment</code> is set to <code>TRUE</code> (as it is by default), when the
function is run a comment describing the calculation used to find the
NIAmg_combined value is added to the <code>comment_col</code>.
If no <code>comment_col</code> is selected, and <code>comment = TRUE</code>, one is
created.</p></dd>


<dt id="arg-comment-col">comment_col<a class="anchor" aria-label="anchor" href="#arg-comment-col"></a></dt>
<dd><p>Optional - default: <code>'comments'</code> - A potential
input variable; the column which contains the metadata comments for the
food item in question. Not required if <code>comment</code> is set to
<code>FALSE</code>. If <code>comment</code> is set to <code>TRUE</code>, and the
<code>comment_col</code> input is not the name of a column found in the
<code>df</code>, the function will create a column with the name of the
<code>comment_col</code> input to store comments in.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Original data.frame with a new <code>NIAmg_combined</code> column, and
  (depending on the options selected) an additional comment/comments column
  and comment.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># We will go through three examples of the NIAmg_calc_combiner, two using</span></span></span>
<span class="r-in"><span><span class="co"># standard names, and another with non-standard names.</span></span></span>
<span class="r-in"><span><span class="va">breakfast_df</span> <span class="op">&lt;-</span> <span class="va">breakfast_df</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"food_code"</span>, <span class="st">"food_name"</span>, <span class="st">"NIAmg"</span>, <span class="st">"TRPmg"</span>,</span></span>
<span class="r-in"><span><span class="st">"NIAEQmg"</span>, <span class="st">"NIATRPmg"</span>, <span class="st">"comments"</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">breakfast_df</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    food_code      food_name NIAmg TRPmg NIAEQmg NIATRPmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      F0001          Bacon 172.0 126.0    85.3     2.10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      F0002          Beans    NA 142.5    49.2       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      F0003          Toast  24.4 142.7    86.4     2.38</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      F0004       Mushroom    NA 167.0    23.2     2.80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      F0005           Eggs   8.1    NA    30.5       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      F0006         Tomato 134.6  76.3    83.3     1.27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      F0007        Sausage  10.2  98.6    16.6     1.64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      F0008         Butter 187.9  41.4    84.5     0.69</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      F0009    Brown Sauce  92.0 172.0    17.7     2.87</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     F0010 Tomato Ketchup    NA    NA      NA       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          comments</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  These are imaginary food items</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                            &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  With imaginary nutrient values</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                      And blanks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                            &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8       To test different outputs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                  And scenarios</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This is the first data.frame; you can see it has the food item information,</span></span></span>
<span class="r-in"><span><span class="co"># the required columns for calculation, and a comments column. Everything</span></span></span>
<span class="r-in"><span><span class="co"># needed to run the NIAmg_calc_combiner</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">NIA_results</span> <span class="op">&lt;-</span> <span class="fu">NIAmg_calc_combiner</span><span class="op">(</span><span class="va">breakfast_df</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ---------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Breakdown of values used:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NIAmg_combined equal to NIAEQmg - (TRPmg/60) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                            2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                NIAmg_combined equal to NIAmg </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                            7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   No suitable value for NIAmg_combined found </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                            1 </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ---------------------------</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">NIA_results</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    food_code      food_name NIAmg TRPmg NIAEQmg NIATRPmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      F0001          Bacon 172.0 126.0    85.3     2.10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      F0002          Beans    NA 142.5    49.2       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      F0003          Toast  24.4 142.7    86.4     2.38</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      F0004       Mushroom    NA 167.0    23.2     2.80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      F0005           Eggs   8.1    NA    30.5       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      F0006         Tomato 134.6  76.3    83.3     1.27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      F0007        Sausage  10.2  98.6    16.6     1.64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      F0008         Butter 187.9  41.4    84.5     0.69</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      F0009    Brown Sauce  92.0 172.0    17.7     2.87</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     F0010 Tomato Ketchup    NA    NA      NA       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                        comments</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                                                 NIAmg_combined equal to NIAmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  These are imaginary food items; NIAmg_combined equal to NIAEQmg - (TRPmg/60)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                                                 NIAmg_combined equal to NIAmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  With imaginary nutrient values; NIAmg_combined equal to NIAEQmg - (TRPmg/60)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                                                 NIAmg_combined equal to NIAmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                                     And blanks; NIAmg_combined equal to NIAmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                                                 NIAmg_combined equal to NIAmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                      To test different outputs; NIAmg_combined equal to NIAmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                                                 NIAmg_combined equal to NIAmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                    And scenarios; No suitable value for NIAmg_combined found</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    NIAmg_combined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       172.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        46.82500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        24.40000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4        20.41667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         8.10000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       134.60000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7        10.20000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8       187.90000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9        92.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10             NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can see how the data.frame has been returned with a new column (NIAmg_combined)</span></span></span>
<span class="r-in"><span><span class="co"># and an additional comment in the comments column, detailing the calculation used.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># However, what if you don't have data for all of these nutrients? In that case,</span></span></span>
<span class="r-in"><span><span class="co"># The nutrient in question should be set to NA. The function assumes you have</span></span></span>
<span class="r-in"><span><span class="co"># all nutrients it needs available, and assumes the standard INFOODS TAGNAMEunit</span></span></span>
<span class="r-in"><span><span class="co"># naming system. This is why the above example works without the need to specify</span></span></span>
<span class="r-in"><span><span class="co"># which column is which. However, when it a column is missing, this means that</span></span></span>
<span class="r-in"><span><span class="co"># the default input needs to be overridden by an NA value, to tell the function that</span></span></span>
<span class="r-in"><span><span class="co"># its missing.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">breakfast_df</span><span class="op">$</span><span class="va">TRPmg</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">breakfast_df</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    food_code      food_name NIAmg NIAEQmg NIATRPmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      F0001          Bacon 172.0    85.3     2.10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      F0002          Beans    NA    49.2       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      F0003          Toast  24.4    86.4     2.38</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      F0004       Mushroom    NA    23.2     2.80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      F0005           Eggs   8.1    30.5       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      F0006         Tomato 134.6    83.3     1.27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      F0007        Sausage  10.2    16.6     1.64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      F0008         Butter 187.9    84.5     0.69</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      F0009    Brown Sauce  92.0    17.7     2.87</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     F0010 Tomato Ketchup    NA      NA       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          comments</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  These are imaginary food items</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                            &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  With imaginary nutrient values</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                      And blanks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                            &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8       To test different outputs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                  And scenarios</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We can see the breakfast_df is now missing an input column; NIATRPmg. To run</span></span></span>
<span class="r-in"><span><span class="co"># this function without this input, the command would be:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">NIA_results_noTRP</span> <span class="op">&lt;-</span> <span class="fu">NIAmg_calc_combiner</span><span class="op">(</span><span class="va">breakfast_df</span>, TRPmg_column <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ---------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Breakdown of values used:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NIAmg_combined equal to NIAEQmg - NIATRPmg </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                          1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              NIAmg_combined equal to NIAmg </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                          7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> No suitable value for NIAmg_combined found </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                          2 </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ---------------------------</span>
<span class="r-in"><span><span class="va">NIA_results_noTRP</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    food_code      food_name NIAmg NIAEQmg NIATRPmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      F0001          Bacon 172.0    85.3     2.10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      F0002          Beans    NA    49.2       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      F0003          Toast  24.4    86.4     2.38</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      F0004       Mushroom    NA    23.2     2.80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      F0005           Eggs   8.1    30.5       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      F0006         Tomato 134.6    83.3     1.27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      F0007        Sausage  10.2    16.6     1.64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      F0008         Butter 187.9    84.5     0.69</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      F0009    Brown Sauce  92.0    17.7     2.87</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     F0010 Tomato Ketchup    NA      NA       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                      comments</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                                               NIAmg_combined equal to NIAmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  These are imaginary food items; No suitable value for NIAmg_combined found</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                                               NIAmg_combined equal to NIAmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  With imaginary nutrient values; NIAmg_combined equal to NIAEQmg - NIATRPmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                                               NIAmg_combined equal to NIAmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                                   And blanks; NIAmg_combined equal to NIAmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                                               NIAmg_combined equal to NIAmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                    To test different outputs; NIAmg_combined equal to NIAmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                                               NIAmg_combined equal to NIAmg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                  And scenarios; No suitable value for NIAmg_combined found</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    NIAmg_combined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           172.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2              NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3            24.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4            20.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5             8.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6           134.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7            10.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8           187.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9            92.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10             NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can see the results have shifted. The values that had been calculated using</span></span></span>
<span class="r-in"><span><span class="co"># TRP are now calculated using NIATRP. (Please don't worry about the discrepancy</span></span></span>
<span class="r-in"><span><span class="co"># between the previous results and these; these nutritional figures are entirely</span></span></span>
<span class="r-in"><span><span class="co"># fictional, and so the new calculation may shift NIAmg_combined massively. This</span></span></span>
<span class="r-in"><span><span class="co"># is not an issue.)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If too few inputs for calculation are inputted, then the function will show a</span></span></span>
<span class="r-in"><span><span class="co"># warning, and not run.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The third example uses non-standard names, to show how to set the input parameters</span></span></span>
<span class="r-in"><span><span class="co"># if the data.frame is not using the suggested TAGNAMEunit naming system.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">breakfast_df_nonstandard</span> <span class="op">&lt;-</span> <span class="va">breakfast_df_nonstandard</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"food_code"</span>,</span></span>
<span class="r-in"><span><span class="st">"food_name"</span>, <span class="st">"Niacin_milligrams"</span>, <span class="st">"Tryptophan_milligrams"</span>, <span class="st">"Niacin_eq_milligrams"</span>,</span></span>
<span class="r-in"><span><span class="st">"Niacine_from_TRP_mg"</span>, <span class="st">"comments_column"</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">breakfast_df_nonstandard</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    food_code      food_name Niacin_milligrams Tryptophan_milligrams</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      F0001          Bacon             172.0                 126.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      F0002          Beans                NA                 142.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      F0003          Toast              24.4                 142.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      F0004       Mushroom                NA                 167.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      F0005           Eggs               8.1                    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      F0006         Tomato             134.6                  76.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      F0007        Sausage              10.2                  98.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      F0008         Butter             187.9                  41.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      F0009    Brown Sauce              92.0                 172.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     F0010 Tomato Ketchup                NA                    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Niacin_eq_milligrams Niacine_from_TRP_mg                comments_column</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                  85.3                2.10                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                  49.2                  NA These are imaginary food items</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                  86.4                2.38                           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                  23.2                2.80 With imaginary nutrient values</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                  30.5                  NA                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                  83.3                1.27                     And blanks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                  16.6                1.64                           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                  84.5                0.69      To test different outputs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                  17.7                2.87                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                   NA                  NA                  And scenarios</span>
<span class="r-in"><span><span class="co"># You can see this is the same dataset as used previously, but with differing</span></span></span>
<span class="r-in"><span><span class="co"># column names. This will mean the function will not know what the required</span></span></span>
<span class="r-in"><span><span class="co"># column names are, and will need the user to name them.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">NIA_results_nonstandard</span> <span class="op">&lt;-</span> <span class="fu">NIAmg_calc_combiner</span><span class="op">(</span><span class="va">breakfast_df_nonstandard</span>,</span></span>
<span class="r-in"><span>NIAmg_column <span class="op">=</span> <span class="st">"Niacin_milligrams"</span>,</span></span>
<span class="r-in"><span>TRPmg_column <span class="op">=</span> <span class="st">"Tryptophan_milligrams"</span>,</span></span>
<span class="r-in"><span>NIAEQmg_column <span class="op">=</span> <span class="st">"Niacin_eq_milligrams"</span>,</span></span>
<span class="r-in"><span>NIATRPmg_column <span class="op">=</span> <span class="st">"Niacine_from_TRP_mg"</span>,</span></span>
<span class="r-in"><span>comment_col <span class="op">=</span> <span class="st">"comments_column"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ---------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Breakdown of values used:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NIAmg_combined equal to Niacin_eq_milligrams - (Tryptophan_milligrams/60) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                         2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                 NIAmg_combined equal to Niacin_milligrams </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                         7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                No suitable value for NIAmg_combined found </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                         1 </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ---------------------------</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">NIA_results_nonstandard</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    food_code      food_name Niacin_milligrams Tryptophan_milligrams</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      F0001          Bacon             172.0                 126.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      F0002          Beans                NA                 142.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      F0003          Toast              24.4                 142.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      F0004       Mushroom                NA                 167.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      F0005           Eggs               8.1                    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      F0006         Tomato             134.6                  76.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      F0007        Sausage              10.2                  98.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      F0008         Butter             187.9                  41.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      F0009    Brown Sauce              92.0                 172.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     F0010 Tomato Ketchup                NA                    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Niacin_eq_milligrams Niacine_from_TRP_mg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                  85.3                2.10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                  49.2                  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                  86.4                2.38</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                  23.2                2.80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                  30.5                  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                  83.3                1.27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                  16.6                1.64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                  84.5                0.69</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                  17.7                2.87</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                   NA                  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                              comments_column</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                                                                  NIAmg_combined equal to Niacin_milligrams</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  These are imaginary food items; NIAmg_combined equal to Niacin_eq_milligrams - (Tryptophan_milligrams/60)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                                                                  NIAmg_combined equal to Niacin_milligrams</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  With imaginary nutrient values; NIAmg_combined equal to Niacin_eq_milligrams - (Tryptophan_milligrams/60)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                                                                  NIAmg_combined equal to Niacin_milligrams</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                                                      And blanks; NIAmg_combined equal to Niacin_milligrams</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                                                                  NIAmg_combined equal to Niacin_milligrams</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                                       To test different outputs; NIAmg_combined equal to Niacin_milligrams</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                                                                  NIAmg_combined equal to Niacin_milligrams</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                                                 And scenarios; No suitable value for NIAmg_combined found</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    NIAmg_combined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       172.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        46.82500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        24.40000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4        20.41667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         8.10000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       134.60000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7        10.20000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8       187.90000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9        92.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10             NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can see how the results are the same as calculated above, regardless of</span></span></span>
<span class="r-in"><span><span class="co"># the changed column names.</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Thomas Codd, Lucia Segovia de la Revilla.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

