<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Data Imputer — Data_Imputer • NutritionTools</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data Imputer — Data_Imputer"><meta name="description" content="The Data Imputer is an interactive function used to find
  suitable imputations for food items, either from the same dataset (by
  default) or from a different dataset. The output by default is a console
  output and a .txt file containing the lines of code needed to implement the
  imputations that the user has picked, however this can be changed to a
  data.frame with the changes implemented."><meta property="og:description" content="The Data Imputer is an interactive function used to find
  suitable imputations for food items, either from the same dataset (by
  default) or from a different dataset. The output by default is a console
  output and a .txt file containing the lines of code needed to implement the
  imputations that the user has picked, however this can be changed to a
  data.frame with the changes implemented."><meta property="og:image" content="https://tomcodd.github.io/NutritionTools/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">NutritionTools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Fuzzy-Matcher-Guide.html">Fuzzy-Matcher-Guide</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/TomCodd/NutritionTools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Data Imputer</h1>
      <small class="dont-index">Source: <a href="https://github.com/TomCodd/NutritionTools/blob/master/R/Data_Imputer.R" class="external-link"><code>R/Data_Imputer.R</code></a></small>
      <div class="d-none name"><code>Data_Imputer.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The Data Imputer is an interactive function used to find
  suitable imputations for food items, either from the same dataset (by
  default) or from a different dataset. The output by default is a console
  output and a .txt file containing the lines of code needed to implement the
  imputations that the user has picked, however this can be changed to a
  data.frame with the changes implemented.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Data_Imputer</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">receiver_title_column</span>,</span>
<span>  receiver_search_terms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">receiver_desc_column</span>,</span>
<span>  receiver_exclude_terms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">receiver_id_column</span>,</span>
<span>  <span class="va">missing_nutrient_column</span>,</span>
<span>  water_column <span class="op">=</span> <span class="st">"WATERg"</span>,</span>
<span>  comment_col <span class="op">=</span> <span class="st">"comments"</span>,</span>
<span>  donor_fct_column <span class="op">=</span> <span class="st">"Source"</span>,</span>
<span>  donor_df <span class="op">=</span> <span class="va">df</span>,</span>
<span>  donor_id_column <span class="op">=</span> <span class="va">receiver_id_column</span>,</span>
<span>  donor_search_column <span class="op">=</span> <span class="va">receiver_desc_column</span>,</span>
<span>  donor_search_terms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  extra_info_columns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  exclude_receiver_terms <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  donor_search_collapse <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">","</span><span class="op">)</span>,</span>
<span>  Assume_continue <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  term_search <span class="op">=</span> <span class="st">"AND"</span>,</span>
<span>  water_balance <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  code_output <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  txt_output <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  round_imputed_figure <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>Required - the data.frame which contains the food items with
missing values.</p></dd>


<dt id="arg-receiver-title-column">receiver_title_column<a class="anchor" aria-label="anchor" href="#arg-receiver-title-column"></a></dt>
<dd><p>Required - The name of the column in <code>df</code>
which contains food groups or titles.</p></dd>


<dt id="arg-receiver-search-terms">receiver_search_terms<a class="anchor" aria-label="anchor" href="#arg-receiver-search-terms"></a></dt>
<dd><p>Required - Search words to identify a specific
food group or title from <code>receiver_title_column</code>. All items missing
values from the <code>missing_nutrient_column</code> within this food group will
be shortlisted for imputation.</p></dd>


<dt id="arg-receiver-desc-column">receiver_desc_column<a class="anchor" aria-label="anchor" href="#arg-receiver-desc-column"></a></dt>
<dd><p>Required - The name of the column within
<code>df</code> that contains detailed food names.</p></dd>


<dt id="arg-receiver-exclude-terms">receiver_exclude_terms<a class="anchor" aria-label="anchor" href="#arg-receiver-exclude-terms"></a></dt>
<dd><p>Optional - = c() Optional -</p></dd>


<dt id="arg-receiver-id-column">receiver_id_column<a class="anchor" aria-label="anchor" href="#arg-receiver-id-column"></a></dt>
<dd><p>Required - The name of the column within <code>df</code>
that contains the ID numbers of the food items.</p></dd>


<dt id="arg-missing-nutrient-column">missing_nutrient_column<a class="anchor" aria-label="anchor" href="#arg-missing-nutrient-column"></a></dt>
<dd><p>Required - The name of the column within
<code>df</code> AND <code>donor_df</code> that contains the nutrient you are trying to
impute values for.</p></dd>


<dt id="arg-water-column">water_column<a class="anchor" aria-label="anchor" href="#arg-water-column"></a></dt>
<dd><p>Required - default: <code>'WATERg'</code> - The name of the
column within <code>df</code> AND <code>donor_df</code> that contains water values, in
grams per 100g.</p></dd>


<dt id="arg-comment-col">comment_col<a class="anchor" aria-label="anchor" href="#arg-comment-col"></a></dt>
<dd><p>Required - default: <code>'comments'</code> - The name of the
column within <code>df</code> that contains comments.</p></dd>


<dt id="arg-donor-fct-column">donor_fct_column<a class="anchor" aria-label="anchor" href="#arg-donor-fct-column"></a></dt>
<dd><p>Required - default: <code>'Source'</code> - The name of the
column within <code>df</code> that contains the source Food Composition Table the
food items are from.</p></dd>


<dt id="arg-donor-df">donor_df<a class="anchor" aria-label="anchor" href="#arg-donor-df"></a></dt>
<dd><p>Required - default: <code>df</code> - The name of the data.frame
that you are looking to get fill-in values from. The default is the same df
as the donor df, as this function was developed to run over large multi-FCT
composite tables.</p></dd>


<dt id="arg-donor-id-column">donor_id_column<a class="anchor" aria-label="anchor" href="#arg-donor-id-column"></a></dt>
<dd><p>Required - default: <code>receiver_id_column</code> - The
name of the column within <code>donor_df</code> that contains the ID numbers of
the food items. The default is suitable when using <code>df</code> as the donor
and receiver.</p></dd>


<dt id="arg-donor-search-column">donor_search_column<a class="anchor" aria-label="anchor" href="#arg-donor-search-column"></a></dt>
<dd><p>Required - default: <code>receiver_desc_column</code> -
The name of the column within <code>donor_df</code> that contains detailed food
names. The default is suitable when using <code>df</code> as the donor and
receiver.</p></dd>


<dt id="arg-donor-search-terms">donor_search_terms<a class="anchor" aria-label="anchor" href="#arg-donor-search-terms"></a></dt>
<dd><p>Required - The search terms you would like to use
to find suitable imputation values to use. Added to the food descriptions
of the receiver items.</p></dd>


<dt id="arg-extra-info-columns">extra_info_columns<a class="anchor" aria-label="anchor" href="#arg-extra-info-columns"></a></dt>
<dd><p>Optional - The name of columns present in both
data.frames (<code>df</code> AND <code>donor_df</code>) you would like to see the
contents of when making decisions about which items should be used for
imputation.</p></dd>


<dt id="arg-exclude-receiver-terms">exclude_receiver_terms<a class="anchor" aria-label="anchor" href="#arg-exclude-receiver-terms"></a></dt>
<dd><p>Required - default: <code>TRUE</code> - Either
<code>TRUE</code> or <code>FALSE</code>. The donor search terms by default are
generated from the food descriptions found in <code>receiver_desc_column</code>.
If <code>TRUE</code> then key words present in <code>receiver_search_terms</code> will
be excluded from these items. For example, if a food item is in a Food
group 'Goat, Offal', and the food description is 'Goat, liver, raw'; if
this option is set to <code>TRUE</code> then the search terms used will be
'liver, raw'; if set to <code>FALSE</code> then the full 'Goat, lever, raw' will
be used.</p></dd>


<dt id="arg-donor-search-collapse">donor_search_collapse<a class="anchor" aria-label="anchor" href="#arg-donor-search-collapse"></a></dt>
<dd><p>Optional - default: <code>c(",")</code> - The string
used to separate the search terms. if the search terms are 'Goat, liver,
raw', then using the default ',' will mean that the function will return
items that match 'goat' and 'liver' and 'raw'. If none are used, only items
that match the entire string; 'Goat, liver, raw'; will be returned.</p></dd>


<dt id="arg-assume-continue">Assume_continue<a class="anchor" aria-label="anchor" href="#arg-assume-continue"></a></dt>
<dd><p>Required - default: <code>FALSE</code> - Either <code>TRUE</code>
or <code>FALSE</code>. There are several checks throughout the process to
double-check inputs. If set to <code>TRUE</code>, this setting skips them,
assuming the inputs are correct.</p></dd>


<dt id="arg-term-search">term_search<a class="anchor" aria-label="anchor" href="#arg-term-search"></a></dt>
<dd><p>Required - default: <code>"AND"</code> - Either <code>"AND"</code> or
<code>"OR"</code>. Decide whether the imputation value search should results
should find items which match all the search terms at once (<code>"AND"</code>)
or only one of them <code>"OR"</code>.</p></dd>


<dt id="arg-water-balance">water_balance<a class="anchor" aria-label="anchor" href="#arg-water-balance"></a></dt>
<dd><p>Required - default: <code>TRUE</code> - Either <code>TRUE</code> or
<code>FALSE</code>. If <code>TRUE</code> then the function will water-balance the
values.</p></dd>


<dt id="arg-code-output">code_output<a class="anchor" aria-label="anchor" href="#arg-code-output"></a></dt>
<dd><p>Required - default: <code>TRUE</code> - Either <code>TRUE</code> or
<code>FALSE</code>. Decides whether the output should be pre-written code to be
inserted just above where this function was called (by default), or a
data.frame with the changes made (if set to <code>FALSE</code>).</p></dd>


<dt id="arg-txt-output">txt_output<a class="anchor" aria-label="anchor" href="#arg-txt-output"></a></dt>
<dd><p>Required - default: <code>TRUE</code> - Either <code>TRUE</code> or
<code>FALSE</code>. If using <code>code_output</code>, then this option attaches the
generated code to a .txt file and saves it in your working directory.</p></dd>


<dt id="arg-round-imputed-figure">round_imputed_figure<a class="anchor" aria-label="anchor" href="#arg-round-imputed-figure"></a></dt>
<dd><p>Required - default: <code>TRUE</code> - Either
<code>TRUE</code> or <code>FALSE</code>. Decide whether the imputed values should be
rounded to 2 decimal places.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Either code that applies the imputations (if <code>code_output</code> is
  set to <code>TRUE</code>, as it is by default), or an altered data.frame with the
  imputations applied.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>

    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Thomas Codd, Lucia Segovia de la Revilla.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

